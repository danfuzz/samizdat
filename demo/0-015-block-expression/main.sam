## Copyright 2013-2014 the Samizdat Authors (Dan Bornstein et alia).
## Licensed AS IS and WITHOUT WARRANTY under the Apache License,
## Version 2.0. Details: <http://www.apache.org/licenses/LICENSE-2.0>

##
## Closure / block expression demo
##

#= language core.Lang0


##
## Private Definitions
##

fn print(arg) {
    note($Format::sourceUnadorned(arg))
};


##
## Main Tests
##

print({ <> });
print({ -> });
print({ x <> });
print({ x -> });
print({ x, y <> });
print({ x, . -> });
print({ (x+) <> });
print({ (a, b?, c*) -> });
print({ stuff() <> });
print({ stuff() -> });
print({ stuff(a) <> });
print({ stuff(a) -> });

print({ yield /out <> });
print({ yield /out -> });
print({ yield /out x <> });
print({ yield /out x -> });
print({ yield /out x, y <> });
print({ yield /out x, . -> });
print({ yield /out (x*) <> });
print({ yield /out (a, b?, c*) -> });
print({ yield /out stuff() <> });
print({ yield /out stuff() -> });
print({ yield /out stuff(a) <> });
print({ yield /out stuff(a) -> });

print({ x, y <> cat(x, y) }("bl", "ort"));
print({ x, y /out -> yield /out cat(x, y) }("fi", "zmo"));
print({ yowza(args+) -> <> cat(args*) }("i", "gr", "am"));
