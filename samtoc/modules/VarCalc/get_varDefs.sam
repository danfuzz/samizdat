## Copyright 2013-2014 the Samizdat Authors (Dan Bornstein et alia).
## Licensed AS IS and WITHOUT WARRANTY under the Apache License,
## Version 2.0. Details: <http://www.apache.org/licenses/LICENSE-2.0>

def $Lang0Node = moduleLoad(["core", "Lang0Node"]);
def get_nodeName = $Lang0Node::get_nodeName;

## `node.get_varDefs()`: Generic that returns list of variable names
## newly-defined by `node`. Result may have duplicates.
def get_varDefs = makeRegularGeneric("get_varDefs", 1, 1);

genericBind(
    get_varDefs,
    @@apply,
    fn apply_get_varDefs(this) {
        <> []
    });

genericBind(
    get_varDefs,
    @@call,
    fn call_get_varDefs(this) {
        <> []
    });

genericBind(
    get_varDefs,
    @@closure,
    fn closure_get_varDefs(this) {
        <> []
    });

genericBind(
    get_varDefs,
    @@jump,
    fn jump_get_varDefs(this) {
        <> []
    });

genericBind(
    get_varDefs,
    @@literalRef,
    fn literalRef_get_varDefs(this) {
        <> []
    });

genericBind(
    get_varDefs,
    @@varBind,
    fn varBind_get_varDefs(this) {
        <> []
    });

genericBind(
    get_varDefs,
    @@varDef,
    fn varDef_get_varDefs(this) {
        <> [this.nodeName]
    });

genericBind(
    get_varDefs,
    @@varDefMutable,
    fn varDefMutable_get_varDefs(this) {
        <> [this.nodeName]
    });

genericBind(
    get_varDefs,
    @@varRef,
    fn varRef_get_varDefs(this) {
        <> []
    });

<> {get_varDefs}
